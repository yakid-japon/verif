$(function(){var slide_width,current_slide;var anim_slide=false;var cpt_slide=0;var nb_slide=$("#slider_home > div").length;current_slide=$("#slider_nav a.actif").attr("id").split('_')[1];var list_slide=new Array();for(var i=0;i<$("#slider_nav a").length;i++){list_slide[$("#slider_nav a")[i].id.split('_')[1]]=i;}
init_slider();$(window).resize(function(){init_slider();});$("#slider_nav a").click(function(){if(!$(this).hasClass('actif'))trigger_slide($(this).attr('id'));return false;});function slider_trigger(){var current_slide=$("#slider_nav .actif");var num_current=current_slide.attr("id").split('_')[1];var num_next;if(num_current=="5"){num_next="1";}else{num_next=parseInt(num_current);num_next++;}
$("#bt_"+num_next).click();}
if($("#wrap_slider_home").css('display')!="none"){var slider_home=setInterval(slider_trigger,8000);}
function init_slider(){slide_width=$(window).width();if(slide_width<960)slide_width=960;$("#slider_home").width(nb_slide*slide_width);$("#slider_home > div").width(slide_width);}
function trigger_slide(id_bt){if(!anim_slide){clearInterval(slider_home);anim_slide=true;var new_left,new_left_mini;var limit=false;var direction=false;direction=(cpt_slide<list_slide[$("#"+id_bt).attr('id').split('_')[1]])?"right":"left";cpt_slide=list_slide[$("#"+id_bt).attr('id').split('_')[1]];new_left="-"+(cpt_slide*slide_width)+"px";if(limit=="left"){cpt_slide=nb_slide-1;$("#slider_home > div:first-child").clone(true).insertAfter($("#slider_home > div:last-child"));$("#slider_home").css("left","-"+(nb_slide*slide_width)+"px");new_left="-"+(cpt_slide*slide_width)+"px";}else if(limit=="right"){cpt_slide=0;$("#slider_home > div:last-child").clone(true).insertBefore($("#slider_home > div:first-child"));$("#slider_home").css("left","0");new_left="-"+slide_width+"px";}
if(direction=="left"){$("#slide_"+current_slide).clone(true).insertAfter($("#slide_"+$("#"+id_bt).attr('id').split('_')[1]));$("#slider_home").css('left',"-"+((cpt_slide*slide_width)+slide_width)+"px");new_left="-"+((cpt_slide*slide_width));}else if(direction=="right"){$("#slide_"+current_slide).clone(true).insertBefore($("#slide_"+$("#"+id_bt).attr('id').split('_')[1]));$("#slider_home").css('left',"-"+(cpt_slide*slide_width)+"px");new_left="-"+((cpt_slide*slide_width)+slide_width);}
$("#slider_home").width((nb_slide+1)*slide_width);$("#bt_"+current_slide).removeClass('actif');current_slide=$("#slider_nav a")[cpt_slide].id.split('_')[1];$("#bt_"+current_slide).addClass('actif');$("#slider_home").animate({left:new_left},600,function(){callback_animate_slider("#slider_home","div",limit,slide_width,cpt_slide,nb_slide);if(direction=="left"){$($("#slider_home > div")[cpt_slide+1]).remove();$("#slider_home").css('left',"-"+(cpt_slide*slide_width)+"px");}else if(direction=="right"){$($("#slider_home > div")[cpt_slide]).remove();$("#slider_home").css('left',"-"+(cpt_slide*slide_width)+"px");}
anim_slide=false;});slider_home=setInterval(slider_trigger,8000);}}
function callback_animate_slider(selector,elt_slide,limit,slide_width,cpt_slide,nb_slide){if(limit=="left"){$(selector+" > "+elt_slide+":last-child").remove();$(selector).css("left","-"+(cpt_slide*slide_width)+"px");}else if(limit=="right"){$(selector+" > "+elt_slide+":first-child").remove();$(selector).css("left","0");}
$(selector).width(nb_slide*slide_width);}});